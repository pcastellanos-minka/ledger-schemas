{
    "type": "object",
    "properties": {
      "handle": {
        "type": "string"
      },
      "claims": {
        "type": "array",
        "items": [
          {
            "type": "object",
            "properties": {
              "action": {
                "type": "string",
                "enum": [
                  "transfer"
                ]
              },
              "source": {
                "type": "object",
                "properties": {
                  "handle": {
                    "type": "string",
                    "pattern": "^(svgs|cacc):\\d+@[a-zA-Z0-9_\\-+.]+$"
                  },
                  "custom": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "minLength": 1
                      },
                      "entityType": {
                        "type": "string",
                        "enum": [
                          "individual"
                        ]
                      },
                      "idType": {
                        "type": "string",
                        "enum": [
                          "nidn",
                          "txid"
                        ]
                      },
                      "idNumber": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 18
                      },
                      "email": {
                        "type": "string",
                        "pattern":"^[a-zA-Z0-9]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$"
                      },
                      "mobile":{
                        "type": "string",
                        "pattern":"^[0-9]{10}$"
                      }
                    },
                    "required": [
                      "name"
                    ]
                  }
                },
                "required": [
                  "handle"
                ]
              },
              "target": {
                "type": "object",
                "properties": {
                  "handle": {
                    "type": "string",
                    "pattern": "(svgs|cacc):\\d+@[a-zA-Z0-9_\\-+.]+$"
                  },
                  "custom": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "minLength": 1
                      },
                      "entityType": {
                        "type": "string",
                        "enum": [
                          "individual",
                          "business"
                        ]
                      },
                      "idType": {
                        "type": "string",
                        "enum": [
                          "nidn",
                          "txid"
                        ]
                      },
                      "idNumber": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 18
                      },
                      "email": {
                        "type": "string",
                        "pattern":"^[a-zA-Z0-9]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$"
                      },
                      "mobile":{
                        "type": "string",
                        "pattern":"^[0-9]{10}$"
                      }
                    },
                    "required": [
                      "name"
                    ]
                  }
                },
                "required": [
                  "handle"
                ]
              },
              "symbol": {
                "type": "object",
                "properties": {
                  "handle": {
                    "type": "string"
                  }
                },
                "required": [
                  "handle"
                ]
              },
              "amount": {
                "type": "integer"
              },
              "custom":{
                "type": "object",
                "properties": {
                  "charge": {
                    "type": "string",
                    "enum": ["DEBT", "CRED", "SHAR","SLEV"]
                  },
                  "description": {
                    "type": "string",
                    "minLength": 1
                  }
                },
                "required": [
                  "description"
                ]
              }
            },
            "required": [
              "action",
              "source",
              "target",
              "amount"
            ]
          }
        ],
        "additionalItems": false,
        "minItems": 1
      },
      "custom": {
        "type": "object",
        "properties": {
          "ip": {
            "type": "string"
          },
          "deviceName": {
            "type": "string"
          },
          "deviceHash": {
            "type": "string"
          },
          "spbviSource": {
            "type": "enum",
            "enum": ["TFY", "ENT", "VIS"]
          },
          "spbviTarget": {
            "type": "enum",
            "enum": ["TFY", "ENT", "VIS"]
          }


        },
        "required": [
          "spbviSource",
          "spbviTarget"
        ]
      }
    },
    "required": [
      "handle",
      "claims"
    ]
  }